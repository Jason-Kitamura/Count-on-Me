{"ast":null,"code":"import _regeneratorRuntime from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';var axios=require('axios');function GoalModal(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),display=_useState2[0],setDisplay=_useState2[1];var _useState3=useState({title:\"\",description:'',StartDate:'',EndDate:''}),_useState4=_slicedToArray(_useState3,2),goal=_useState4[0],setGoal=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];function setUserEmail(localEmail){setEmail(localEmail);}useEffect(function(){var localEmail=JSON.parse(localStorage.getItem('userEmail'));if(!localEmail){console.log('logged out!');}else{console.log('logged in!',localEmail);setUserEmail(localEmail);}},[]);//setDisplay(props.show)\nvar modalWrapper={position:'fixed',top:0,left:0,bottom:0,right:0};var modalBackdrop={position:'fixed',top:0,left:0,bottom:0,right:0,zIndex:100,backgroundColor:\"rgba(0,0,0,0.4)\"};var modalBox={position:'relative',top:'50%',left:'50%',transform:'translate(-50%,-50%)',height:'70%',width:'70%',overflowY:'auto',backgroundColor:'white',boxShadow:'0 0 10px rgba(0,0,0,0.25)',zIndex:101,padding:'40px',marginTop:'10px',marginBottom:'10px'};var insideForm={margin:'3px'};var input={display:'flex',flexDirection:'column',width:'100%',margin:'15px auto',justifyContent:'center',alignItems:'center',button:{width:'30%'},fontFamily:'Comic Neue'};var close={position:'absolute',top:0,right:'14px',fontSize:'23px',transform:'rotate(45deg)',cursor:'pointer',color:'black'};var quotation={fontFamily:'Comic Neue',display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center'};var goalForm={borderColor:'#424242',borderStyle:'solid',borderRadius:'5px',marginTop:'4px',display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center',boxShadow:'3px 3px 3px #888888'};var modalForm={height:'100%',flex:1,flexDirection:'columns'};var formHead={fontFamily:'Comic Neue'};function handleInputChange(e){var _e$target=e.target,id=_e$target.id,value=_e$target.value;//\nsetGoal(_objectSpread({},goal,_defineProperty({},id,value)));}function registerGoals(){return _registerGoals.apply(this,arguments);}function _registerGoals(){_registerGoals=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var newUserGoal,newGoal;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log('[Goal set by User]',goal);newUserGoal={email:email,goal:goal};console.log('new User Goal',newUserGoal);//sending to server\n_context.next=5;return axios.post('/api/createGoal',newUserGoal);case 5:newGoal=_context.sent;console.log('new goal',newGoal);setDisplay(false);case 8:case\"end\":return _context.stop();}}},_callee);}));return _registerGoals.apply(this,arguments);}if(display===props.show){return/*#__PURE__*/React.createElement(\"div\",{className:'modal-wrapper',style:modalWrapper},/*#__PURE__*/React.createElement(\"div\",{className:'modal-backdrop',style:modalBackdrop}),/*#__PURE__*/React.createElement(\"div\",{className:'modal-box',style:modalBox},/*#__PURE__*/React.createElement(\"div\",{class:\"close\",onClick:props.closeGoal,style:close},\"+\"),/*#__PURE__*/React.createElement(\"div\",{class:\"row\",style:modalForm},/*#__PURE__*/React.createElement(\"div\",{class:\"col-12 col-sm-5\",style:quotation},/*#__PURE__*/React.createElement(\"h2\",null,\"\\\"If you want to be happy, set a goal that commands your thoughts, liberates your energy and inspires your hopes.\\\"\"),/*#__PURE__*/React.createElement(\"h3\",null,\"\\u2014Andrew Carnegie\")),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{class:\"col-12 col-sm-5\",style:goalForm},/*#__PURE__*/React.createElement(\"h3\",{style:formHead},\"Set your Goal Today\"),/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{class:\"form-row\",style:input},/*#__PURE__*/React.createElement(\"div\",{class:\"col\"},/*#__PURE__*/React.createElement(\"input\",{style:insideForm,onChange:handleInputChange,type:\"text\",id:\"title\",class:\"form-control\",placeholder:\"Enter Your Goal Title\"})),/*#__PURE__*/React.createElement(\"div\",{class:\"col\"},/*#__PURE__*/React.createElement(\"textarea\",{style:insideForm,type:\"text\",onChange:handleInputChange,class:\"form-control\",id:\"description\",placeholder:\"Description\"})),/*#__PURE__*/React.createElement(\"div\",{class:\"col\"},/*#__PURE__*/React.createElement(\"label\",null,\"Start Date\"),/*#__PURE__*/React.createElement(\"input\",{style:insideForm,onChange:handleInputChange,type:\"date\",id:\"StartDate\",name:\"Start Date\"})),/*#__PURE__*/React.createElement(\"div\",{class:\"col\"},/*#__PURE__*/React.createElement(\"label\",null,\"End Date\"),/*#__PURE__*/React.createElement(\"input\",{style:insideForm,onChange:handleInputChange,type:\"date\",id:\"EndDate\",name:\"End Date\"}))),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:registerGoals,style:input.button,class:\"btn btn-outline-dark\"},\"Add\"))))));}return null;}export default GoalModal;","map":{"version":3,"sources":["/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/src/components/Home/GoalModal.js"],"names":["React","useState","useContext","useEffect","axios","require","GoalModal","props","display","setDisplay","title","description","StartDate","EndDate","goal","setGoal","email","setEmail","setUserEmail","localEmail","JSON","parse","localStorage","getItem","console","log","modalWrapper","position","top","left","bottom","right","modalBackdrop","zIndex","backgroundColor","modalBox","transform","height","width","overflowY","boxShadow","padding","marginTop","marginBottom","insideForm","margin","input","flexDirection","justifyContent","alignItems","button","fontFamily","close","fontSize","cursor","color","quotation","goalForm","borderColor","borderStyle","borderRadius","modalForm","flex","formHead","handleInputChange","e","target","id","value","registerGoals","newUserGoal","post","newGoal","show","closeGoal"],"mappings":"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","sourcesContent":["import React,{useState, useContext, useEffect} from 'react';\nconst axios = require('axios');\n\nfunction GoalModal(props) {\n    const [display, setDisplay] = useState(true);\n    const [goal,setGoal] = useState({title:\"\",description:'',StartDate:'',EndDate:''});\n    const[ email, setEmail ] = useState('')\n   \n    function setUserEmail( localEmail ){\n        setEmail( localEmail );\n    }\n\n    useEffect( ()=>{\n        const localEmail = JSON.parse(localStorage.getItem('userEmail'));\n    \n        if ( !localEmail ){\n            console.log( 'logged out!' );\n        } else {\n            console.log( 'logged in!', localEmail );\n            setUserEmail( localEmail );\n        }\n    },[])\n\n    //setDisplay(props.show)\n    const modalWrapper = {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        bottom: 0,\n        right: 0,\n\n    }\n    const modalBackdrop = {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        bottom: 0,\n        right: 0,\n        zIndex: 100,\n        backgroundColor: \"rgba(0,0,0,0.4)\"\n    }\n    const modalBox = {\n        position: 'relative',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        height: '70%',\n        width: '70%',\n        overflowY: 'auto',\n        backgroundColor: 'white',\n        boxShadow: '0 0 10px rgba(0,0,0,0.25)',\n        zIndex: 101,\n        padding: '40px',\n        marginTop:'10px',\n        marginBottom:'10px'\n    }\n    const insideForm = {\n        margin: '3px'\n    }\n  \n    const input = {\n        display: 'flex',\n        flexDirection: 'column',\n        width: '100%',\n        margin: '15px auto',\n        justifyContent: 'center',\n        alignItems: 'center',\n        button:{\n            width :'30%'\n        },\n        fontFamily: 'Comic Neue'\n    }\n\n    const close = {\n        position: 'absolute',\n        top: 0,\n        right: '14px',\n        fontSize: '23px',\n        transform: 'rotate(45deg)',\n        cursor: 'pointer',\n       color:'black'\n    }\n    const quotation = {\n        fontFamily: 'Comic Neue',\n        display:'flex',\n        flexDirection:'column',\n        justifyContent:'center',\n        alignItems:'center'\n    }\n    const goalForm ={\n        borderColor:'#424242',\n        borderStyle:'solid',\n        borderRadius:'5px',\n        marginTop:'4px',\n        display:'flex',\n        flexDirection:'column',\n        justifyContent:'center',\n        alignItems:'center',\n        boxShadow: '3px 3px 3px #888888'\n    }\n    const modalForm={\n        height:'100%',\n        flex:1,\n        flexDirection:'columns'\n\n    }\n    const formHead={\n        fontFamily: 'Comic Neue'\n    }\n    function handleInputChange(e){\n        const { id, value } = e.target; //\n\n        setGoal( { ...goal, [id]: value } );\n\n    }\n\n  async function registerGoals(){\n        console.log('[Goal set by User]',goal);\n        const newUserGoal = { email, goal }\n        console.log( 'new User Goal', newUserGoal );\n        //sending to server\n        const newGoal = await axios.post( '/api/createGoal', newUserGoal );\n        console.log( 'new goal', newGoal);\n        setDisplay( false );\n    }\n\n\n    if(display === props.show){\n    return (\n        <div className={'modal-wrapper'} style={modalWrapper}>\n            <div className={'modal-backdrop'} style={modalBackdrop} />\n            <div className={'modal-box'} style={modalBox}>\n                <div class='close' onClick={props.closeGoal} style={close}>\n                    +\n                </div>\n                <div class='row' style={modalForm}>\n                    <div class='col-12 col-sm-5' style={quotation}>\n                        <h2>\"If you want to be happy, set a goal that commands your thoughts, liberates your energy and inspires your hopes.\"</h2>\n                        <h3>—Andrew Carnegie</h3>\n                    </div>\n                    <hr />\n                    <div class='col-12 col-sm-5' style={goalForm}>\n                        <h3 style={formHead}>Set your Goal Today</h3>\n                        <form >\n                            <div class=\"form-row\" style={input}>\n                                <div class=\"col\">\n                                    <input style={insideForm} onChange={handleInputChange} type=\"text\" id='title' class=\"form-control\" placeholder=\"Enter Your Goal Title\" />\n                                </div>\n                                <div class=\"col\">\n                                    <textarea style={insideForm} type=\"text\" onChange={handleInputChange} class=\"form-control\" id='description' placeholder=\"Description\" />\n                                </div>\n                                <div class='col'>\n                                    <label >Start Date</label>< input style={insideForm} onChange={handleInputChange} type=\"date\" id=\"StartDate\" name=\"Start Date\"></input>\n                                </div>\n                                <div class='col'>\n                                    <label>End Date</label><input style={insideForm} onChange={handleInputChange} type=\"date\" id=\"EndDate\" name=\"End Date\"></input>\n                                </div>\n                            </div>\n                            <button type=\"button\" onClick={registerGoals} style={input.button} class=\"btn btn-outline-dark\">Add</button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );}\n    return null;\n}\n\nexport default GoalModal;"]},"metadata":{},"sourceType":"module"}