{"ast":null,"code":"import _regeneratorRuntime from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _asyncToGenerator from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{useContext}from'react';import'./style.css';import{LoginContext}from'../../LoginContext';import{useHistory}from'react-router-dom';var axios=require('axios');var LoginPage=/*#__PURE__*/function(_React$Component){_inherits(LoginPage,_React$Component);var _super=_createSuper(LoginPage);function LoginPage(props){var _this;_classCallCheck(this,LoginPage);_this=_super.call(this,props);_this.handleEmailChange=function(event){_this.setState({email:event.target.value});};_this.handlePasswordChange=function(event){_this.setState({password:event.target.value});};_this.signIn=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var loginCredentials,history,_useContext,_useContext2,userEmail,setUserEmail,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();console.log('searching db for user');loginCredentials={email:_this.state.email,password:_this.state.password};//for global context\nhistory=useHistory();_useContext=useContext(LoginContext),_useContext2=_slicedToArray(_useContext,2),userEmail=_useContext2[0],setUserEmail=_useContext2[1];_context.next=7;return axios.post('/api/checkUser/',loginCredentials);case 7:response=_context.sent;console.log('response',response);if(response.status===200){console.log(response.data);if(loginCredentials.password===response.data.password){alert('user logined');setUserEmail(response.email);history.push(\"/home\");}else{alert('sorry please enter right email and password');}}else{console.log(\"[sorry no user found]\");}case 10:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={email:'',password:''};return _this;}_createClass(LoginPage,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"header\",{className:\"header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\",id:\"headerRow\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"col-4\",id:\"title\"},\"Goal Tracker\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"}),/*#__PURE__*/React.createElement(\"form\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:this.state.email,onChange:this.handleEmailChange,className:\"form-control\",id:\"email\",placeholder:\"email\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:this.state.password,onChange:this.handlePasswordChange,className:\"form-control\",id:\"password\",placeholder:\"password\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",value:\"Submit\",onClick:this.signIn,className:\"btn btn-primary\",id:\"login-Btn\"},\"Login\"))))));}}]);return LoginPage;}(React.Component);export default LoginPage;","map":{"version":3,"sources":["/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/src/components/Login/LoginBox.js"],"names":["React","useContext","LoginContext","useHistory","axios","require","LoginPage","props","handleEmailChange","event","setState","email","target","value","handlePasswordChange","password","signIn","e","preventDefault","console","log","loginCredentials","state","history","userEmail","setUserEmail","post","response","status","data","alert","push","Component"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react';\nimport './style.css';\nimport { LoginContext } from '../../LoginContext'\nimport { useHistory } from 'react-router-dom';\n\n\nconst axios = require('axios')\n\nclass LoginPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: '',\n            password: ''\n        };\n    }\n    handleEmailChange = (event) => {\n        this.setState({ email: event.target.value })\n    }\n    handlePasswordChange = (event) => {\n        this.setState({ password: event.target.value })\n    }\n\n    signIn = async (e) => {\n        e.preventDefault();\n        console.log('searching db for user');\n\n        const loginCredentials = {\n            email: this.state.email,\n            password: this.state.password\n        }\n        //for global context\n        const history = useHistory();\n        const [userEmail, setUserEmail] = useContext(LoginContext);\n        const response = await axios.post('/api/checkUser/', loginCredentials)\n        console.log('response', response);\n        if (response.status === 200) {\n            console.log(response.data);\n            if (loginCredentials.password === response.data.password) {\n                alert('user logined');\n                setUserEmail(response.email);\n                history.push(\"/home\")\n            }\n            else {\n                alert('sorry please enter right email and password');\n            }\n        }\n        else {\n            console.log(`[sorry no user found]`);\n        }\n    }\n\n    render() {\n        return (\n            <header className=\"header\">\n                <div className='row' id='headerRow'>\n                    <h1 className='col-4' id='title'>Goal Tracker</h1 >\n                    <div className='col-4'></div >\n                    <form className='col-4'>\n                        <div className='row'>\n                            <div className='col-md-4'>\n                                <input type=\"text\" value={this.state.email} onChange={this.handleEmailChange} className='form-control' id='email' placeholder='email' />\n                            </div>\n                            <div className='col-md-4'>\n                                <input type=\"text\" value={this.state.password} onChange={this.handlePasswordChange} className='form-control' id='password' placeholder='password' />\n                            </div>\n                            <div className='col-4'>\n                                <button type=\"submit\" value=\"Submit\" onClick={this.signIn} className=\"btn btn-primary\" id='login-Btn'>Login</button>\n                            </div>\n                        </div>\n                    </form >\n                </div>\n            </header>\n        )\n    }\n}\n\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}