{"ast":null,"code":"var _jsxFileName = \"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/src/components/Dashboard/TodoLists.js\";\nimport React, { useEffect, useState } from 'react';\nimport useForceUpdate from 'use-force-update';\n\nconst axios = require('axios');\n\nfunction Goals() {\n  const card = {\n    width: '100%',\n    margin: '10px',\n    marginLeft: '25px',\n    marginRight: '25px'\n  };\n  const Goals = {\n    borderStyle: 'groove',\n    marginBottom: '5px',\n    padding: '3px'\n  };\n  const newGoal = {\n    display: 'block',\n    marginLeft: 'auto',\n    marginRight: 'auto'\n  };\n  const cardsContainer = {\n    flex: 1,\n    flexDirection: 'row',\n    padding: '10px',\n    margin: '0px',\n    marginTop: '45px',\n    marginLeft: '0px'\n  };\n  const checkBox = {\n    float: 'left'\n  };\n  const completeBox = {\n    float: 'right'\n  };\n  const [goals, setGoals] = useState([]);\n  const [completed, setCompleted] = useState([]);\n\n  async function getGoalList(localEmail) {\n    const obj = {\n      email: localEmail\n    }; //get info from server\n\n    const allGoals = await axios.post('/api/getUserGoals', obj);\n    const goalsArray = allGoals.data.goals;\n    const incompletedGoals = goalsArray.filter(goal => {\n      return goal.completed === false;\n    });\n    console.log('incompleted goals', incompletedGoals);\n    setGoals(incompletedGoals);\n    const completedGoals = goalsArray.filter(goal => {\n      return goal.completed === true;\n    });\n    console.log('completed goals', completedGoals);\n    setCompleted(completedGoals);\n  }\n\n  useEffect(() => {\n    const localEmail = JSON.parse(localStorage.getItem('userEmail'));\n\n    if (!localEmail) {\n      console.log('logged out!');\n    } else {\n      console.log('logged in!', localEmail);\n      getGoalList(localEmail);\n    }\n  }, []);\n\n  async function completeGoal(e, id) {\n    console.log(e, id);\n\n    if (e === true) {\n      const obj = {\n        id: id\n      }; //update in in database\n\n      const updateGoalComplete = await axios.post('/api/completeGoal', obj);\n      console.log('Update goal complete', updateGoalComplete);\n    } else {\n      const obj = {\n        id: id\n      }; //update in in database\n\n      const undoGoalComplete = await axios.post('/api/undoGoal', obj);\n      console.log('Undo goal complete', undoGoalComplete);\n    }\n  }\n\n  async function undoGoal(e, id) {\n    console.log(e, id);\n\n    if (e === false) {\n      const obj = {\n        id: id\n      }; //update in in database\n\n      const updateGoalComplete = await axios.post('/api/completeGoal', obj);\n      console.log('Update goal complete', updateGoalComplete);\n    } else {\n      const obj = {\n        id: id\n      }; //update in in database\n\n      const undoGoalComplete = await axios.post('/api/undoGoal', obj);\n      console.log('Undo goal complete', undoGoalComplete);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row\",\n    style: cardsContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card col-12 col-lg-3 col-md-6\",\n    style: card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    class: \"card-title text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, \"Today's Goals\"), goals.map(goal => /*#__PURE__*/React.createElement(\"h6\", {\n    style: Goals,\n    key: goal._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => {\n      completeGoal(e.target.checked, goal._id);\n    },\n    type: \"checkbox\",\n    style: checkBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 54\n    }\n  }), \" \", goal.title)))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card col-12 col-lg-3 col-md-6\",\n    style: card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    class: \"card-title text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, \"Completed Goals\"), completed.map(goal => /*#__PURE__*/React.createElement(\"h6\", {\n    style: Goals,\n    key: goal._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fa fa-check\",\n    \"aria-hidden\": \"true\",\n    style: checkBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 54\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    onChange: e => {\n      undoGoal(e.target.checked, goal._id);\n    },\n    style: completeBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 117\n    }\n  }), \" \", goal.title)))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card col-12 col-lg-3 col-md-6\",\n    style: card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    class: \"card-title text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }, \"Habits Goals\"), /*#__PURE__*/React.createElement(\"h6\", {\n    style: Goals,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  }, \"  \", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"far fa-square\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 41\n    }\n  }), \"   Eat\"), /*#__PURE__*/React.createElement(\"h6\", {\n    style: Goals,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, \"  \", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"far fa-square\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 41\n    }\n  }), \"   Sleep\"), /*#__PURE__*/React.createElement(\"h6\", {\n    style: Goals,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, \"  \", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"far fa-square\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 41\n    }\n  }), \"   Study\"), /*#__PURE__*/React.createElement(\"h6\", {\n    style: Goals,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }, \"  \", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"far fa-square\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 41\n    }\n  }), \"   Excercise\"), /*#__PURE__*/React.createElement(\"h6\", {\n    style: Goals,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, \"  \", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"far fa-square\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 41\n    }\n  }), \"   Repeat\"), /*#__PURE__*/React.createElement(\"h6\", {\n    style: Goals,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }, \"  \", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"far fa-square\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 41\n    }\n  }), \"   Eat\"), /*#__PURE__*/React.createElement(\"h6\", {\n    style: Goals,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 21\n    }\n  }, \"  \", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"far fa-square\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 41\n    }\n  }), \"   Sleep\"), /*#__PURE__*/React.createElement(\"h6\", {\n    style: Goals,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  }, \"  \", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"far fa-square\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 41\n    }\n  }), \"   Study\"), /*#__PURE__*/React.createElement(\"h6\", {\n    style: Goals,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, \"  \", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"far fa-square\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 41\n    }\n  }), \"   Excercise\"), /*#__PURE__*/React.createElement(\"h6\", {\n    style: Goals,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-check-square\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 40\n    }\n  }), \"   Repeat\"))));\n}\n\nexport default Goals;","map":{"version":3,"sources":["/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/src/components/Dashboard/TodoLists.js"],"names":["React","useEffect","useState","useForceUpdate","axios","require","Goals","card","width","margin","marginLeft","marginRight","borderStyle","marginBottom","padding","newGoal","display","cardsContainer","flex","flexDirection","marginTop","checkBox","float","completeBox","goals","setGoals","completed","setCompleted","getGoalList","localEmail","obj","email","allGoals","post","goalsArray","data","incompletedGoals","filter","goal","console","log","completedGoals","JSON","parse","localStorage","getItem","completeGoal","e","id","updateGoalComplete","undoGoalComplete","undoGoal","map","_id","target","checked","title"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport useForceUpdate from 'use-force-update';\nconst axios = require('axios');\n\n\nfunction Goals() {\n    const card={\n        width:'100%',\n        margin:'10px',\n        marginLeft: '25px',\n        marginRight: '25px',\n    }\n    const  Goals = {\n        borderStyle:'groove',\n        marginBottom:'5px',\n        padding:'3px'\n    }\n    const newGoal = {\n        display:'block',\n        marginLeft:'auto',\n        marginRight:'auto'\n    }\n    const cardsContainer = {\n        flex:1,\n        flexDirection:'row',\n        padding:'10px',\n        margin:'0px',\n        marginTop: '45px',\n        marginLeft: '0px'\n        \n    }\n    const checkBox = {\n        float: 'left',\n    }\n    const completeBox = {\n        float: 'right',\n    }\n\n    const [goals, setGoals] = useState([]);\n    const [completed, setCompleted] = useState([]);\n\n\n    async function getGoalList( localEmail){\n        const obj = {\n            email : localEmail \n        }\n        //get info from server\n        const allGoals = await axios.post( '/api/getUserGoals', obj );\n        const goalsArray = allGoals.data.goals\n\n        const incompletedGoals = goalsArray.filter( goal => {\n            return goal.completed === false;\n        })\n        console.log('incompleted goals', incompletedGoals);\n        setGoals( incompletedGoals );\n\n        const completedGoals = goalsArray.filter( goal => {\n            return goal.completed === true;\n        })\n        console.log('completed goals', completedGoals);\n        setCompleted( completedGoals );\n    }\n\n  useEffect( ()=>{\n        const localEmail = JSON.parse(localStorage.getItem('userEmail'));\n    \n        if ( !localEmail ){\n            console.log( 'logged out!' );\n        } else {\n            console.log( 'logged in!', localEmail );\n\n         getGoalList( localEmail );\n        }\n    },[])\n\n    async function completeGoal( e,id){\n        console.log(e, id);\n        if ( e === true ){\n            const obj = {\n                id : id\n            }\n            //update in in database\n          const updateGoalComplete = await axios.post( '/api/completeGoal', obj);\n          console.log('Update goal complete', updateGoalComplete );\n        } else {\n            const obj = {\n                id : id\n            }\n            //update in in database\n          const undoGoalComplete = await axios.post( '/api/undoGoal', obj);\n          console.log('Undo goal complete', undoGoalComplete );\n        }\n    }\n    async function undoGoal( e,id){\n        console.log(e, id);\n        if ( e === false ){\n            const obj = {\n                id : id\n            }\n            //update in in database\n          const updateGoalComplete = await axios.post( '/api/completeGoal', obj);\n          console.log('Update goal complete', updateGoalComplete );\n        } else {\n            const obj = {\n                id : id\n            }\n            //update in in database\n          const undoGoalComplete = await axios.post( '/api/undoGoal', obj);\n          console.log('Undo goal complete', undoGoalComplete );\n        }\n    }\n\n    return (\n        <div class='row' style={cardsContainer}>\n            <div class=\"card col-12 col-lg-3 col-md-6\" style={card}>\n                <div class=\"card-body\">\n                    <h5 class=\"card-title text-center\">Today's Goals</h5>\n                    {goals.map( goal => (\n                    <h6 style={Goals} key={goal._id}><input onChange={e => {completeGoal(e.target.checked, goal._id)}} type=\"checkbox\" style={checkBox}/> {goal.title}</h6>\n                 ))}\n                </div>\n            </div>\n            <div class=\"card col-12 col-lg-3 col-md-6\" style={card}>\n                <div class=\"card-body\">\n                    <h5 class=\"card-title text-center\">Completed Goals</h5>\n                    {completed.map( goal => (\n                    <h6 style={Goals} key={goal._id}><i class=\"fa fa-check\" aria-hidden=\"true\" style={checkBox}></i><input  type=\"checkbox\" onChange={e => {undoGoal(e.target.checked, goal._id)}} style={completeBox}/> {goal.title}</h6>\n                 ))}\n                </div>\n            </div>\n            <div class=\"card col-12 col-lg-3 col-md-6\" style={card}>\n                <div class=\"card-body\">\n                    <h5 class=\"card-title text-center\">Habits Goals</h5>\n                    <h6 style={Goals}>  <i class=\"far fa-square\"></i>   Eat</h6>\n                    <h6 style={Goals}>  <i class=\"far fa-square\"></i>   Sleep</h6>\n                    <h6 style={Goals}>  <i class=\"far fa-square\"></i>   Study</h6>\n                    <h6 style={Goals}>  <i class=\"far fa-square\"></i>   Excercise</h6>\n                    <h6 style={Goals}>  <i class=\"far fa-square\"></i>   Repeat</h6>\n                    <h6 style={Goals}>  <i class=\"far fa-square\"></i>   Eat</h6>\n                    <h6 style={Goals}>  <i class=\"far fa-square\"></i>   Sleep</h6>\n                    <h6 style={Goals}>  <i class=\"far fa-square\"></i>   Study</h6>\n                    <h6 style={Goals}>  <i class=\"far fa-square\"></i>   Excercise</h6>\n                    <h6 style={Goals}> <i class=\"fas fa-check-square\"></i>   Repeat</h6>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Goals;"]},"metadata":{},"sourceType":"module"}