{"ast":null,"code":"import _regeneratorRuntime from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import SearchBox from'./SearchBox';import SearchResult from'./SearchResult';import axios from'axios';function SearchPage(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),result=_useState2[0],setResult=_useState2[1];var style={SearchBox:{border:\"0px solid Black\"},SearchResult:{border:\"0px solid Yellow\"}};var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),input=_useState4[0],setInput=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),namesList=_useState6[0],setnamesList=_useState6[1];function handleChange(_x){return _handleChange.apply(this,arguments);}function _handleChange(){_handleChange=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var i,userInfo,userdata,newList;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:i=e.target.value;console.log(i);setInput(i);// const input = e.target.value;\n_context.next=5;return axios.get('/api/allUser');case 5:userInfo=_context.sent;userdata=userInfo.data;if(input.length>=1&&input.length<=2){userdata.forEach(function(item){namesList.push(item.firstName);});}//   console.log(namesList);\nif(input.length>1){newList=namesList.filter(function(name){return name.indexOf(input)===0;});setInput(input);setnamesList(newList);//   console.log(`[new list received]`, newList);\n}else{setInput(input);setnamesList([]);}case 9:case\"end\":return _context.stop();}}},_callee);}));return _handleChange.apply(this,arguments);}function search(){return _search.apply(this,arguments);}function _search(){_search=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var userInfo;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get('/api/allusers');case 2:userInfo=_context2.sent;console.log('[Object Received]',userInfo);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _search.apply(this,arguments);}return/*#__PURE__*/React.createElement(React.Fragment,null,console.log(\"Search Page Rendering....\"),/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex flex-column h-100\"},/*#__PURE__*/React.createElement(\"form\",{class:\"form-inline md-form mr-auto mb-4\"},/*#__PURE__*/React.createElement(\"input\",{class:\"form-control mr-sm-2\",type:\"text\",onChange:handleChange,placeholder:\"Search\",\"aria-label\":\"Search\"}),/*#__PURE__*/React.createElement(\"button\",{class:\"btn aqua-gradient btn-rounded btn-sm my-0\",onClick:search,type:\"button\"},\"Search\")),/*#__PURE__*/React.createElement(\"ul\",null,namesList.map(function(name){return/*#__PURE__*/React.createElement(\"li\",{style:li,class:\"list-group-item\",onClick:function onClick(){return setInput(name);}},name);}))));}export default SearchPage;","map":{"version":3,"sources":["/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/src/components/Search/SearchPage.js"],"names":["React","useState","SearchBox","SearchResult","axios","SearchPage","props","result","setResult","style","border","input","setInput","namesList","setnamesList","handleChange","e","i","target","value","console","log","get","userInfo","userdata","data","length","forEach","item","push","firstName","newList","filter","name","indexOf","search","map","li"],"mappings":"4hBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,QAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,eACGL,QAAQ,CAAC,EAAD,CADX,wCAClBM,MADkB,eACVC,SADU,eAGzB,GAAMC,CAAAA,KAAK,CAAG,CACZP,SAAS,CAAE,CACTQ,MAAM,CAAE,iBADC,CADC,CAIZP,YAAY,CAAE,CACZO,MAAM,CAAE,kBADI,CAJF,CAAd,CAHyB,eAWCT,QAAQ,CAAC,EAAD,CAXT,yCAWlBU,KAXkB,eAWXC,QAXW,8BAYUX,QAAQ,CAAC,EAAD,CAZlB,yCAYhBY,SAZgB,eAYNC,YAZM,uBAcVC,CAAAA,YAdU,gJAczB,iBAA4BC,CAA5B,kJACUC,CADV,CACcD,CAAC,CAACE,MAAF,CAASC,KADvB,CAEIC,OAAO,CAACC,GAAR,CAAYJ,CAAZ,EACAL,QAAQ,CAACK,CAAD,CAAR,CACE;AAJN,sBAK6Bb,CAAAA,KAAK,CAACkB,GAAN,CAAU,cAAV,CAL7B,QAKYC,QALZ,eAMYC,QANZ,CAMuBD,QAAQ,CAACE,IANhC,CAOM,GAAId,KAAK,CAACe,MAAN,EAAgB,CAAhB,EAAqBf,KAAK,CAACe,MAAN,EAAgB,CAAzC,CAA4C,CAC3CF,QAAQ,CAACG,OAAT,CAAiB,SAAUC,IAAV,CAAgB,CAC/Bf,SAAS,CAACgB,IAAV,CAAeD,IAAI,CAACE,SAApB,EACH,CAFC,EAGA,CACH;AACA,GAAInB,KAAK,CAACe,MAAN,CAAe,CAAnB,CAAsB,CACXK,OADW,CACDlB,SAAS,CAACmB,MAAV,CAAiB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,OAAL,CAAavB,KAAb,IAAwB,CAA5B,EAArB,CADC,CAEjBC,QAAQ,CAACD,KAAD,CAAR,CACCG,YAAY,CAACiB,OAAD,CAAZ,CACN;AACC,CALD,IAKO,CACNnB,QAAQ,CAACD,KAAD,CAAR,CACGG,YAAY,CAAC,EAAD,CAAZ,CACD,CArBP,sDAdyB,uDAwCZqB,CAAAA,MAxCY,4HAwC3B,4KACyB/B,CAAAA,KAAK,CAACkB,GAAN,CAAU,eAAV,CADzB,QACQC,QADR,gBAEEH,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAiCE,QAAjC,EAFF,wDAxC2B,yCAgDzB,mBACE,wCACGH,OAAO,CAACC,GAAR,CAAY,2BAAZ,CADH,cAEE,2BAAK,KAAK,CAAC,0BAAX,eACE,4BAAM,KAAK,CAAC,kCAAZ,eACE,6BAAO,KAAK,CAAC,sBAAb,CAAoC,IAAI,CAAC,MAAzC,CAAgD,QAAQ,CAAEN,YAA1D,CAAwE,WAAW,CAAC,QAApF,CAA6F,aAAW,QAAxG,EADF,cAEE,8BAAQ,KAAK,CAAC,2CAAd,CAA0D,OAAO,CAAEoB,MAAnE,CAA2E,IAAI,CAAC,QAAhF,WAFF,CADF,cAKE,8BAAMtB,SAAS,CAACuB,GAAV,CAAe,SAAAH,IAAI,qBAAG,0BAAI,KAAK,CAAEI,EAAX,CAAe,KAAK,CAAC,iBAArB,CAAuC,OAAO,CAAE,yBAAIzB,CAAAA,QAAQ,CAACqB,IAAD,CAAZ,EAAhD,EAAqEA,IAArE,CAAH,EAAnB,CAAN,CALF,CAFF,CADF,CAaD,CACD,cAAe5B,CAAAA,UAAf","sourcesContent":["import React, { useState } from \"react\";\nimport SearchBox from './SearchBox';\nimport SearchResult from './SearchResult';\nimport axios from 'axios';\nfunction SearchPage(props) {\n  const [result, setResult] = useState([]);\n\n  const style = {\n    SearchBox: {\n      border: \"0px solid Black\"\n    },\n    SearchResult: {\n      border: \"0px solid Yellow\"\n    }\n  }\n  const [input, setInput] = useState('');\n    const [namesList,setnamesList] = useState([]);\n\n  async function handleChange(e) {\n      const i = e.target.value;\n      console.log(i);\n      setInput(i);\n        // const input = e.target.value;\n        const userInfo = await axios.get('/api/allUser')\n        const userdata = userInfo.data;\n        if (input.length >= 1 && input.length <= 2) {\n         userdata.forEach(function (item) {\n           namesList.push(item.firstName);\n       });\n        }\n      //   console.log(namesList);\n      if (input.length > 1) {\n           const newList = namesList.filter(name => name.indexOf(input) === 0);\n           setInput(input)\n            setnamesList(newList)\n      //   console.log(`[new list received]`, newList);\n      } else {\n       setInput(input);\n          setnamesList([]);\n        }\n    \n      }\n\n\nasync function search(){\n  const userInfo = await axios.get('/api/allusers')\n  console.log('[Object Received]', userInfo);\n\n}\n\n\n\n  return (\n    <>\n      {console.log(\"Search Page Rendering....\")}\n      <div class=\"d-flex flex-column h-100\">\n        <form class=\"form-inline md-form mr-auto mb-4\">\n          <input class=\"form-control mr-sm-2\" type=\"text\" onChange={handleChange} placeholder=\"Search\" aria-label=\"Search\" />\n          <button class=\"btn aqua-gradient btn-rounded btn-sm my-0\" onClick={search} type=\"button\">Search</button>\n        </form>\n        <ul>{ namesList.map( name =><li style={li} class=\"list-group-item\" onClick={()=>setInput(name)}>{name}</li>)}</ul>\n      </div>\n    </>\n  )\n\n}\nexport default SearchPage;"]},"metadata":{},"sourceType":"module"}