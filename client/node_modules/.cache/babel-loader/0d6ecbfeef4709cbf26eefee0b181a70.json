{"ast":null,"code":"var _jsxFileName = \"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/src/components/Home/Goals.js\";\nimport React, { useEffect, useState } from 'react';\n\nconst axios = require('axios');\n\nfunction Goals() {\n  const card = {\n    width: '100%',\n    margin: '10px'\n  };\n  const Goals = {\n    borderStyle: 'groove',\n    marginBotton: '5px',\n    padding: '3px'\n  };\n  const checkBox = {\n    float: 'left'\n  };\n  const completeBox = {\n    float: 'right'\n  };\n  const [goals, setGoals] = useState([]);\n  const [completed, setCompleted] = useState([]);\n\n  async function getGoalList(localEmail) {\n    const obj = {\n      email: localEmail\n    }; //get info from server\n\n    const userGoals = await axios.post('/api/getUserGoals', obj);\n    const goalsArray = userGoals.data.goals;\n    const incompletedGoals = goalsArray.filter(goal => {\n      return goal.completed === false;\n    });\n    console.log('incompleted goals', incompletedGoals);\n    setGoals(incompletedGoals);\n    const completedGoals = goalsArray.filter(goal => {\n      return goal.completed === true;\n    });\n    console.log('completed goals', completedGoals);\n    setCompleted(completedGoals);\n  }\n\n  useEffect(() => {\n    const localEmail = JSON.parse(localStorage.getItem('userEmail'));\n\n    if (!localEmail) {\n      console.log('logged out!');\n    } else {\n      console.log('logged in!', localEmail);\n      getGoalList(localEmail);\n    }\n  }, []);\n\n  async function completeGoal(e, id) {\n    console.log(e, id);\n\n    if (e === true) {\n      const obj = {\n        id: id\n      }; //update in in database\n\n      const updateGoalComplete = await axios.post('/api/completeGoal', obj);\n      console.log('Update goal complete', updateGoalComplete);\n    } else {\n      const obj = {\n        id: id\n      }; //update in in database\n\n      const undoGoalComplete = await axios.post('/api/undoGoal', obj);\n      console.log('Undo goal complete', undoGoalComplete);\n    }\n  }\n\n  async function undoGoal(e, id) {\n    console.log(e, id);\n\n    if (e === false) {\n      const obj = {\n        id: id\n      }; //update in in database\n\n      const updateGoalComplete = await axios.post('/api/completeGoal', obj);\n      console.log('Update goal complete', updateGoalComplete);\n    } else {\n      const obj = {\n        id: id\n      }; //update in in database\n\n      const undoGoalComplete = await axios.post('/api/undoGoal', obj);\n      console.log('Undo goal complete', undoGoalComplete);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card\",\n    style: card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    class: \"card-title text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, \"Today's Goals\"), goals.map(goal => /*#__PURE__*/React.createElement(\"h6\", {\n    style: Goals,\n    key: goal.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    onChange: e => {\n      completeGoal(e.target.checked, goal._id);\n    },\n    style: checkBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 53\n    }\n  }), goal.title)), completed.map(goal => /*#__PURE__*/React.createElement(\"h6\", {\n    style: Goals,\n    key: goal.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fa fa-check\",\n    \"aria-hidden\": \"true\",\n    style: checkBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 53\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    onChange: e => {\n      undoGoal(e.target.checked, goal._id);\n    },\n    style: completeBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 116\n    }\n  }), goal.title)))));\n}\n\nexport default Goals;","map":{"version":3,"sources":["/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/src/components/Home/Goals.js"],"names":["React","useEffect","useState","axios","require","Goals","card","width","margin","borderStyle","marginBotton","padding","checkBox","float","completeBox","goals","setGoals","completed","setCompleted","getGoalList","localEmail","obj","email","userGoals","post","goalsArray","data","incompletedGoals","filter","goal","console","log","completedGoals","JSON","parse","localStorage","getItem","completeGoal","e","id","updateGoalComplete","undoGoalComplete","undoGoal","map","target","checked","_id","title"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nconst axios = require('axios');\n\n\nfunction Goals() {\n    const card={\n        width:'100%',\n        margin:'10px'\n    }\n    const  Goals = {\n        borderStyle:'groove',\n        marginBotton:'5px',\n        padding:'3px'\n    }\n    const checkBox = {\n        float: 'left',\n    }\n    const completeBox = {\n        float: 'right',\n    }\n  \n    const [goals, setGoals] = useState([]);\n    const [completed, setCompleted] = useState([]);\n\n\n    async function getGoalList( localEmail){\n        const obj = {\n            email : localEmail \n        }\n        //get info from server\n        const userGoals = await axios.post( '/api/getUserGoals', obj );\n        const goalsArray = userGoals.data.goals\n\n        const incompletedGoals = goalsArray.filter( goal => {\n            return goal.completed === false;\n        })\n        console.log('incompleted goals', incompletedGoals);\n        setGoals( incompletedGoals );\n\n        const completedGoals = goalsArray.filter( goal => {\n            return goal.completed === true;\n        })\n        console.log('completed goals', completedGoals);\n        setCompleted( completedGoals );\n    }\n\n  useEffect( ()=>{\n        const localEmail = JSON.parse(localStorage.getItem('userEmail'));\n    \n        if ( !localEmail ){\n            console.log( 'logged out!' );\n        } else {\n            console.log( 'logged in!', localEmail );\n\n         getGoalList( localEmail );\n        }\n    },[])\n    async function completeGoal( e,id){\n        console.log(e, id);\n        if ( e === true ){\n            const obj = {\n                id : id\n            }\n            //update in in database\n          const updateGoalComplete = await axios.post( '/api/completeGoal', obj);\n          console.log('Update goal complete', updateGoalComplete );\n        } else {\n            const obj = {\n                id : id\n            }\n            //update in in database\n          const undoGoalComplete = await axios.post( '/api/undoGoal', obj);\n          console.log('Undo goal complete', undoGoalComplete );\n        }\n    }\n    async function undoGoal( e,id){\n        console.log(e, id);\n        if ( e === false ){\n            const obj = {\n                id : id\n            }\n            //update in in database\n          const updateGoalComplete = await axios.post( '/api/completeGoal', obj);\n          console.log('Update goal complete', updateGoalComplete );\n        } else {\n            const obj = {\n                id : id\n            }\n            //update in in database\n          const undoGoalComplete = await axios.post( '/api/undoGoal', obj);\n          console.log('Undo goal complete', undoGoalComplete );\n        }\n    }\n\n    return (\n       <div>\n        <div class=\"card\" style={card}>\n            <div class=\"card-body\">\n                <h5 class=\"card-title text-center\">Today's Goals</h5>         \n                {goals.map( goal => (\n                    <h6 style={Goals} key={goal.id}><input type=\"checkbox\" onChange={e => {completeGoal(e.target.checked, goal._id)}} style={checkBox}/>{goal.title}</h6>\n                 ))}\n                 {completed.map( goal => (\n                    <h6 style={Goals} key={goal.id}><i class=\"fa fa-check\" aria-hidden=\"true\" style={checkBox}></i><input type=\"checkbox\"  onChange={e => {undoGoal(e.target.checked, goal._id)}} style={completeBox}/>{goal.title}</h6>\n                 ))}\n            </div>\n        </div>\n       \n        </div>\n       \n        \n    );\n}\n\nexport default Goals;"]},"metadata":{},"sourceType":"module"}