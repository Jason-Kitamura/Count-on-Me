{"ast":null,"code":"import _regeneratorRuntime from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';var axios=require('axios');function Goals(){var card={width:'100%',margin:'10px'};var Goals={borderStyle:'groove',marginBotton:'5px',padding:'3px'};var checkBox={float:'left'};var completeBox={float:'right'};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),goals=_useState2[0],setGoals=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),completed=_useState4[0],setCompleted=_useState4[1];function getGoalList(_x){return _getGoalList.apply(this,arguments);}function _getGoalList(){_getGoalList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(localEmail){var obj,userGoals,goalsArray,incompletedGoals,completedGoals;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:obj={email:localEmail};//get info from server\n_context.next=3;return axios.post('/api/getUserGoals',obj);case 3:userGoals=_context.sent;goalsArray=userGoals.data.goals;incompletedGoals=goalsArray.filter(function(goal){return goal.completed===false;});console.log('incompleted goals',incompletedGoals);setGoals(incompletedGoals);completedGoals=goalsArray.filter(function(goal){return goal.completed===true;});console.log('completed goals',completedGoals);setCompleted(completedGoals);case 11:case\"end\":return _context.stop();}}},_callee);}));return _getGoalList.apply(this,arguments);}useEffect(function(){var localEmail=JSON.parse(localStorage.getItem('userEmail'));if(!localEmail){console.log('logged out!');}else{console.log('logged in!',localEmail);getGoalList(localEmail);}},[]);function completeGoal(_x2,_x3){return _completeGoal.apply(this,arguments);}function _completeGoal(){_completeGoal=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e,id){var obj,updateGoalComplete,_obj,undoGoalComplete;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(e,id);if(!(e===true)){_context2.next=9;break;}obj={id:id};//update in in database\n_context2.next=5;return axios.post('/api/completeGoal',obj);case 5:updateGoalComplete=_context2.sent;console.log('Update goal complete',updateGoalComplete);_context2.next=14;break;case 9:_obj={id:id};//update in in database\n_context2.next=12;return axios.post('/api/undoGoal',_obj);case 12:undoGoalComplete=_context2.sent;console.log('Undo goal complete',undoGoalComplete);case 14:case\"end\":return _context2.stop();}}},_callee2);}));return _completeGoal.apply(this,arguments);}function undoGoal(_x4,_x5){return _undoGoal.apply(this,arguments);}function _undoGoal(){_undoGoal=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e,id){var obj,updateGoalComplete,_obj2,undoGoalComplete;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(e,id);if(!(e===false)){_context3.next=9;break;}obj={id:id};//update in in database\n_context3.next=5;return axios.post('/api/completeGoal',obj);case 5:updateGoalComplete=_context3.sent;console.log('Update goal complete',updateGoalComplete);_context3.next=14;break;case 9:_obj2={id:id};//update in in database\n_context3.next=12;return axios.post('/api/undoGoal',_obj2);case 12:undoGoalComplete=_context3.sent;console.log('Undo goal complete',undoGoalComplete);case 14:case\"end\":return _context3.stop();}}},_callee3);}));return _undoGoal.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{class:\"card\",style:card},/*#__PURE__*/React.createElement(\"div\",{class:\"card-body\"},/*#__PURE__*/React.createElement(\"h5\",{class:\"card-title text-center\"},\"Today's Goals\"),goals.map(function(goal){return/*#__PURE__*/React.createElement(\"h6\",{style:Goals,key:goal.id},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",onChange:function onChange(e){completeGoal(e.target.checked,goal._id);},style:checkBox}),goal.title);}),completed.map(function(goal){return/*#__PURE__*/React.createElement(\"h6\",{style:Goals,key:goal.id},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-check\",\"aria-hidden\":\"true\",style:checkBox}),/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",onChange:function onChange(e){undoGoal(e.target.checked,goal._id);},style:completeBox}),goal.title);}))));}export default Goals;","map":{"version":3,"sources":["/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/src/components/Home/Goals.js"],"names":["React","useEffect","useState","axios","require","Goals","card","width","margin","borderStyle","marginBotton","padding","checkBox","float","completeBox","goals","setGoals","completed","setCompleted","getGoalList","localEmail","obj","email","post","userGoals","goalsArray","data","incompletedGoals","filter","goal","console","log","completedGoals","JSON","parse","localStorage","getItem","completeGoal","e","id","updateGoalComplete","undoGoalComplete","undoGoal","map","target","checked","_id","title"],"mappings":"4hBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,GAAMC,CAAAA,KAAK,CAAGC,OAAO,CAAC,OAAD,CAArB,CAGA,QAASC,CAAAA,KAAT,EAAiB,CACb,GAAMC,CAAAA,IAAI,CAAC,CACPC,KAAK,CAAC,MADC,CAEPC,MAAM,CAAC,MAFA,CAAX,CAIA,GAAOH,CAAAA,KAAK,CAAG,CACXI,WAAW,CAAC,QADD,CAEXC,YAAY,CAAC,KAFF,CAGXC,OAAO,CAAC,KAHG,CAAf,CAKA,GAAMC,CAAAA,QAAQ,CAAG,CACbC,KAAK,CAAE,MADM,CAAjB,CAGA,GAAMC,CAAAA,WAAW,CAAG,CAChBD,KAAK,CAAE,OADS,CAApB,CAba,cAiBaX,QAAQ,CAAC,EAAD,CAjBrB,wCAiBNa,KAjBM,eAiBCC,QAjBD,8BAkBqBd,QAAQ,CAAC,EAAD,CAlB7B,yCAkBNe,SAlBM,eAkBKC,YAlBL,uBAqBEC,CAAAA,WArBF,6IAqBb,iBAA4BC,UAA5B,+KACUC,GADV,CACgB,CACRC,KAAK,CAAGF,UADA,CADhB,CAII;AAJJ,sBAK4BjB,CAAAA,KAAK,CAACoB,IAAN,CAAY,mBAAZ,CAAiCF,GAAjC,CAL5B,QAKUG,SALV,eAMUC,UANV,CAMuBD,SAAS,CAACE,IAAV,CAAeX,KANtC,CAQUY,gBARV,CAQ6BF,UAAU,CAACG,MAAX,CAAmB,SAAAC,IAAI,CAAI,CAChD,MAAOA,CAAAA,IAAI,CAACZ,SAAL,GAAmB,KAA1B,CACH,CAFwB,CAR7B,CAWIa,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAiCJ,gBAAjC,EACAX,QAAQ,CAAEW,gBAAF,CAAR,CAEMK,cAdV,CAc2BP,UAAU,CAACG,MAAX,CAAmB,SAAAC,IAAI,CAAI,CAC9C,MAAOA,CAAAA,IAAI,CAACZ,SAAL,GAAmB,IAA1B,CACH,CAFsB,CAd3B,CAiBIa,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+BC,cAA/B,EACAd,YAAY,CAAEc,cAAF,CAAZ,CAlBJ,uDArBa,8CA0Cf/B,SAAS,CAAE,UAAI,CACT,GAAMmB,CAAAA,UAAU,CAAGa,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAnB,CAEA,GAAK,CAAChB,UAAN,CAAkB,CACdU,OAAO,CAACC,GAAR,CAAa,aAAb,EACH,CAFD,IAEO,CACHD,OAAO,CAACC,GAAR,CAAa,YAAb,CAA2BX,UAA3B,EAEHD,WAAW,CAAEC,UAAF,CAAX,CACA,CACJ,CAVM,CAUL,EAVK,CAAT,CA1Ce,QAqDEiB,CAAAA,YArDF,qJAqDb,kBAA6BC,CAA7B,CAA+BC,EAA/B,uKACIT,OAAO,CAACC,GAAR,CAAYO,CAAZ,CAAeC,EAAf,EADJ,KAESD,CAAC,GAAK,IAFf,2BAGcjB,GAHd,CAGoB,CACRkB,EAAE,CAAGA,EADG,CAHpB,CAMQ;AANR,uBAOuCpC,CAAAA,KAAK,CAACoB,IAAN,CAAY,mBAAZ,CAAiCF,GAAjC,CAPvC,QAOYmB,kBAPZ,gBAQMV,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAoCS,kBAApC,EARN,+BAUcnB,IAVd,CAUoB,CACRkB,EAAE,CAAGA,EADG,CAVpB,CAaQ;AAbR,wBAcqCpC,CAAAA,KAAK,CAACoB,IAAN,CAAY,eAAZ,CAA6BF,IAA7B,CAdrC,SAcYoB,gBAdZ,gBAeMX,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAkCU,gBAAlC,EAfN,yDArDa,uDAuEEC,CAAAA,QAvEF,yIAuEb,kBAAyBJ,CAAzB,CAA2BC,EAA3B,wKACIT,OAAO,CAACC,GAAR,CAAYO,CAAZ,CAAeC,EAAf,EADJ,KAESD,CAAC,GAAK,KAFf,2BAGcjB,GAHd,CAGoB,CACRkB,EAAE,CAAGA,EADG,CAHpB,CAMQ;AANR,uBAOuCpC,CAAAA,KAAK,CAACoB,IAAN,CAAY,mBAAZ,CAAiCF,GAAjC,CAPvC,QAOYmB,kBAPZ,gBAQMV,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAoCS,kBAApC,EARN,+BAUcnB,KAVd,CAUoB,CACRkB,EAAE,CAAGA,EADG,CAVpB,CAaQ;AAbR,wBAcqCpC,CAAAA,KAAK,CAACoB,IAAN,CAAY,eAAZ,CAA6BF,KAA7B,CAdrC,SAcYoB,gBAdZ,gBAeMX,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAkCU,gBAAlC,EAfN,yDAvEa,2CA0Fb,mBACG,4CACC,2BAAK,KAAK,CAAC,MAAX,CAAkB,KAAK,CAAEnC,IAAzB,eACI,2BAAK,KAAK,CAAC,WAAX,eACI,0BAAI,KAAK,CAAC,wBAAV,kBADJ,CAEKS,KAAK,CAAC4B,GAAN,CAAW,SAAAd,IAAI,qBACZ,0BAAI,KAAK,CAAExB,KAAX,CAAkB,GAAG,CAAEwB,IAAI,CAACU,EAA5B,eAAgC,6BAAO,IAAI,CAAC,UAAZ,CAAuB,QAAQ,CAAE,kBAAAD,CAAC,CAAI,CAACD,YAAY,CAACC,CAAC,CAACM,MAAF,CAASC,OAAV,CAAmBhB,IAAI,CAACiB,GAAxB,CAAZ,CAAyC,CAAhF,CAAkF,KAAK,CAAElC,QAAzF,EAAhC,CAAqIiB,IAAI,CAACkB,KAA1I,CADY,EAAf,CAFL,CAKM9B,SAAS,CAAC0B,GAAV,CAAe,SAAAd,IAAI,qBACjB,0BAAI,KAAK,CAAExB,KAAX,CAAkB,GAAG,CAAEwB,IAAI,CAACU,EAA5B,eAAgC,yBAAG,KAAK,CAAC,aAAT,CAAuB,cAAY,MAAnC,CAA0C,KAAK,CAAE3B,QAAjD,EAAhC,cAA+F,6BAAO,IAAI,CAAC,UAAZ,CAAwB,QAAQ,CAAE,kBAAA0B,CAAC,CAAI,CAACI,QAAQ,CAACJ,CAAC,CAACM,MAAF,CAASC,OAAV,CAAmBhB,IAAI,CAACiB,GAAxB,CAAR,CAAqC,CAA7E,CAA+E,KAAK,CAAEhC,WAAtF,EAA/F,CAAoMe,IAAI,CAACkB,KAAzM,CADiB,EAAnB,CALN,CADJ,CADD,CADH,CAkBH,CAED,cAAe1C,CAAAA,KAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\nconst axios = require('axios');\n\n\nfunction Goals() {\n    const card={\n        width:'100%',\n        margin:'10px'\n    }\n    const  Goals = {\n        borderStyle:'groove',\n        marginBotton:'5px',\n        padding:'3px'\n    }\n    const checkBox = {\n        float: 'left',\n    }\n    const completeBox = {\n        float: 'right',\n    }\n  \n    const [goals, setGoals] = useState([]);\n    const [completed, setCompleted] = useState([]);\n\n\n    async function getGoalList( localEmail){\n        const obj = {\n            email : localEmail \n        }\n        //get info from server\n        const userGoals = await axios.post( '/api/getUserGoals', obj );\n        const goalsArray = userGoals.data.goals\n\n        const incompletedGoals = goalsArray.filter( goal => {\n            return goal.completed === false;\n        })\n        console.log('incompleted goals', incompletedGoals);\n        setGoals( incompletedGoals );\n\n        const completedGoals = goalsArray.filter( goal => {\n            return goal.completed === true;\n        })\n        console.log('completed goals', completedGoals);\n        setCompleted( completedGoals );\n    }\n\n  useEffect( ()=>{\n        const localEmail = JSON.parse(localStorage.getItem('userEmail'));\n    \n        if ( !localEmail ){\n            console.log( 'logged out!' );\n        } else {\n            console.log( 'logged in!', localEmail );\n\n         getGoalList( localEmail );\n        }\n    },[])\n    async function completeGoal( e,id){\n        console.log(e, id);\n        if ( e === true ){\n            const obj = {\n                id : id\n            }\n            //update in in database\n          const updateGoalComplete = await axios.post( '/api/completeGoal', obj);\n          console.log('Update goal complete', updateGoalComplete );\n        } else {\n            const obj = {\n                id : id\n            }\n            //update in in database\n          const undoGoalComplete = await axios.post( '/api/undoGoal', obj);\n          console.log('Undo goal complete', undoGoalComplete );\n        }\n    }\n    async function undoGoal( e,id){\n        console.log(e, id);\n        if ( e === false ){\n            const obj = {\n                id : id\n            }\n            //update in in database\n          const updateGoalComplete = await axios.post( '/api/completeGoal', obj);\n          console.log('Update goal complete', updateGoalComplete );\n        } else {\n            const obj = {\n                id : id\n            }\n            //update in in database\n          const undoGoalComplete = await axios.post( '/api/undoGoal', obj);\n          console.log('Undo goal complete', undoGoalComplete );\n        }\n    }\n\n    return (\n       <div>\n        <div class=\"card\" style={card}>\n            <div class=\"card-body\">\n                <h5 class=\"card-title text-center\">Today's Goals</h5>         \n                {goals.map( goal => (\n                    <h6 style={Goals} key={goal.id}><input type=\"checkbox\" onChange={e => {completeGoal(e.target.checked, goal._id)}} style={checkBox}/>{goal.title}</h6>\n                 ))}\n                 {completed.map( goal => (\n                    <h6 style={Goals} key={goal.id}><i class=\"fa fa-check\" aria-hidden=\"true\" style={checkBox}></i><input type=\"checkbox\"  onChange={e => {undoGoal(e.target.checked, goal._id)}} style={completeBox}/>{goal.title}</h6>\n                 ))}\n            </div>\n        </div>\n       \n        </div>\n       \n        \n    );\n}\n\nexport default Goals;"]},"metadata":{},"sourceType":"module"}