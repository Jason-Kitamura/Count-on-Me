{"ast":null,"code":"import _regeneratorRuntime from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import useForceUpdate from'use-force-update';var axios=require('axios');function Goals(){var card={width:'100%',margin:'10px',marginLeft:'25px',marginRight:'25px'};var Goals={borderStyle:'groove',marginBottom:'5px',padding:'3px'};var newGoal={display:'block',marginLeft:'auto',marginRight:'auto'};var cardsContainer={flex:1,flexDirection:'row',padding:'10px',margin:'0px',marginTop:'45px',marginLeft:'0px'};var checkBox={float:'left'};var undoBtn={float:'right',fontSize:'small',cursor:'pointer',margin:'0px'};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),goals=_useState2[0],setGoals=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),completed=_useState4[0],setCompleted=_useState4[1];function getGoalList(_x){return _getGoalList.apply(this,arguments);}function _getGoalList(){_getGoalList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(localEmail){var obj,allGoals,goalsArray,incompletedGoals,completedGoals;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:obj={email:localEmail};//get info from server\n_context.next=3;return axios.post('http://localhost:5000/api/getUserGoals',obj);case 3:allGoals=_context.sent;goalsArray=allGoals.data.goals;incompletedGoals=goalsArray.filter(function(goal){return goal.completed===false;});console.log('incompleted goals',incompletedGoals);setGoals(incompletedGoals);completedGoals=goalsArray.filter(function(goal){return goal.completed===true;});console.log('completed goals',completedGoals);setCompleted(completedGoals);case 11:case\"end\":return _context.stop();}}},_callee);}));return _getGoalList.apply(this,arguments);}useEffect(function(){var localEmail=JSON.parse(localStorage.getItem('userEmail'));if(!localEmail){console.log('logged out!');}else{console.log('logged in!',localEmail);getGoalList(localEmail);}},[]);function completeGoal(_x2){return _completeGoal.apply(this,arguments);}function _completeGoal(){_completeGoal=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var obj,updateGoalComplete,localEmail1;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:obj={id:id};//update in in database\n_context2.next=3;return axios.post('/api/completeGoal',obj);case 3:updateGoalComplete=_context2.sent;console.log('Update goal complete',updateGoalComplete);localEmail1=JSON.parse(localStorage.getItem('userEmail'));getGoalList(localEmail1);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _completeGoal.apply(this,arguments);}function undoGoal(_x3){return _undoGoal.apply(this,arguments);}function _undoGoal(){_undoGoal=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var obj,undoGoalComplete,localEmail2;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:obj={id:id};//update in in database\n_context3.next=3;return axios.post('/api/undoGoal',obj);case 3:undoGoalComplete=_context3.sent;console.log('Undo goal complete',undoGoalComplete);//rerender component\nlocalEmail2=JSON.parse(localStorage.getItem('userEmail'));getGoalList(localEmail2);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return _undoGoal.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",{class:\"row\",style:cardsContainer},/*#__PURE__*/React.createElement(\"div\",{class:\"card col-12 col-lg-3 col-md-6\",style:card},/*#__PURE__*/React.createElement(\"div\",{class:\"card-body\"},/*#__PURE__*/React.createElement(\"h5\",{class:\"card-title text-center\"},\"Today's Goals\"),goals.map(function(goal){return/*#__PURE__*/React.createElement(\"h6\",{style:Goals,key:goal._id},/*#__PURE__*/React.createElement(\"input\",{onClick:function onClick(e){completeGoal(goal._id);},type:\"checkbox\",checked:false,style:checkBox}),goal.title);}))),/*#__PURE__*/React.createElement(\"div\",{class:\"card col-12 col-lg-3 col-md-6\",style:card},/*#__PURE__*/React.createElement(\"div\",{class:\"card-body\"},/*#__PURE__*/React.createElement(\"h5\",{class:\"card-title text-center\"},\"Completed Goals\"),completed.map(function(goal){return/*#__PURE__*/React.createElement(\"h6\",{style:Goals,key:goal._id},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-check\",\"aria-hidden\":\"true\",style:checkBox}),goal.title,/*#__PURE__*/React.createElement(\"p\",{onClick:function onClick(e){undoGoal(goal._id);},style:undoBtn},\"undo\"));}))),/*#__PURE__*/React.createElement(\"div\",{class:\"card col-12 col-lg-3 col-md-6\",style:card},/*#__PURE__*/React.createElement(\"div\",{class:\"card-body\"},/*#__PURE__*/React.createElement(\"h5\",{class:\"card-title text-center\"},\"Habits Goals\"),/*#__PURE__*/React.createElement(\"h6\",{style:Goals},\"  \",/*#__PURE__*/React.createElement(\"i\",{class:\"far fa-square\"}),\"   Eat\"),/*#__PURE__*/React.createElement(\"h6\",{style:Goals},\"  \",/*#__PURE__*/React.createElement(\"i\",{class:\"far fa-square\"}),\"   Sleep\"),/*#__PURE__*/React.createElement(\"h6\",{style:Goals},\"  \",/*#__PURE__*/React.createElement(\"i\",{class:\"far fa-square\"}),\"   Study\"),/*#__PURE__*/React.createElement(\"h6\",{style:Goals},\"  \",/*#__PURE__*/React.createElement(\"i\",{class:\"far fa-square\"}),\"   Excercise\"),/*#__PURE__*/React.createElement(\"h6\",{style:Goals},\"  \",/*#__PURE__*/React.createElement(\"i\",{class:\"far fa-square\"}),\"   Repeat\"),/*#__PURE__*/React.createElement(\"h6\",{style:Goals},\"  \",/*#__PURE__*/React.createElement(\"i\",{class:\"far fa-square\"}),\"   Eat\"),/*#__PURE__*/React.createElement(\"h6\",{style:Goals},\"  \",/*#__PURE__*/React.createElement(\"i\",{class:\"far fa-square\"}),\"   Sleep\"),/*#__PURE__*/React.createElement(\"h6\",{style:Goals},\"  \",/*#__PURE__*/React.createElement(\"i\",{class:\"far fa-square\"}),\"   Study\"),/*#__PURE__*/React.createElement(\"h6\",{style:Goals},\"  \",/*#__PURE__*/React.createElement(\"i\",{class:\"far fa-square\"}),\"   Excercise\"),/*#__PURE__*/React.createElement(\"h6\",{style:Goals},\" \",/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-check-square\"}),\"   Repeat\"))));}export default Goals;","map":{"version":3,"sources":["/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/src/components/Dashboard/TodoLists.js"],"names":["React","useEffect","useState","useForceUpdate","axios","require","Goals","card","width","margin","marginLeft","marginRight","borderStyle","marginBottom","padding","newGoal","display","cardsContainer","flex","flexDirection","marginTop","checkBox","float","undoBtn","fontSize","cursor","goals","setGoals","completed","setCompleted","getGoalList","localEmail","obj","email","post","allGoals","goalsArray","data","incompletedGoals","filter","goal","console","log","completedGoals","JSON","parse","localStorage","getItem","completeGoal","id","updateGoalComplete","localEmail1","undoGoal","undoGoalComplete","localEmail2","map","_id","e","title"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport useForceUpdate from 'use-force-update';\nconst axios = require('axios');\n\n\nfunction Goals() {\n    const card={\n        width:'100%',\n        margin:'10px',\n        marginLeft: '25px',\n        marginRight: '25px',\n    }\n    const  Goals = {\n        borderStyle:'groove',\n        marginBottom:'5px',\n        padding:'3px'\n    }\n    const newGoal = {\n        display:'block',\n        marginLeft:'auto',\n        marginRight:'auto'\n    }\n    const cardsContainer = {\n        flex:1,\n        flexDirection:'row',\n        padding:'10px',\n        margin:'0px',\n        marginTop: '45px',\n        marginLeft: '0px'\n        \n    }\n    const checkBox = {\n        float: 'left',\n    }\n    const undoBtn = {\n        float: 'right',\n        fontSize : 'small',\n        cursor : 'pointer',\n        margin: '0px'\n    }\n\n    const [goals, setGoals] = useState([]);\n    const [completed, setCompleted] = useState([]);\n\n\n    async function getGoalList( localEmail){\n        const obj = {\n            email : localEmail \n        }\n        //get info from server\n        const allGoals = await axios.post( 'http://localhost:5000/api/getUserGoals', obj );\n        const goalsArray = allGoals.data.goals\n\n        const incompletedGoals = goalsArray.filter( goal => {\n            return goal.completed === false;\n        })\n        console.log('incompleted goals', incompletedGoals);\n        setGoals( incompletedGoals );\n\n        const completedGoals = goalsArray.filter( goal => {\n            return goal.completed === true;\n        })\n        console.log('completed goals', completedGoals);\n        setCompleted( completedGoals );\n    }\n\n  useEffect( ()=>{\n        const localEmail = JSON.parse(localStorage.getItem('userEmail'));\n    \n        if ( !localEmail ){\n            console.log( 'logged out!' );\n        } else {\n            console.log( 'logged in!', localEmail );\n\n         getGoalList( localEmail );\n        }\n    },[])\n\n    async function completeGoal( id ){\n        const obj = {\n            id : id\n        }\n        //update in in database\n        const updateGoalComplete = await axios.post( '/api/completeGoal', obj);\n        console.log('Update goal complete', updateGoalComplete );\n       \n        const localEmail1 = JSON.parse(localStorage.getItem('userEmail'));\n        getGoalList( localEmail1 );\n    }\n    async function undoGoal( id){\n        const obj = {\n            id : id\n        }\n        //update in in database\n        const undoGoalComplete = await axios.post( '/api/undoGoal', obj);\n        console.log('Undo goal complete', undoGoalComplete );\n        //rerender component\n        const localEmail2 = JSON.parse(localStorage.getItem('userEmail'));\n        getGoalList( localEmail2 );\n    }\n\n    return (\n        <div class='row' style={cardsContainer}>\n            <div class=\"card col-12 col-lg-3 col-md-6\" style={card}>\n                <div class=\"card-body\">\n                    <h5 class=\"card-title text-center\">Today's Goals</h5>\n                    {goals.map( goal => (\n                        <h6 style={Goals} key={goal._id}>\n                            <input onClick={e => {completeGoal( goal._id)}} type=\"checkbox\" checked={false} style={checkBox}/>\n                            {goal.title}\n                        </h6>\n                     ))}\n                </div>\n            </div>\n            <div class=\"card col-12 col-lg-3 col-md-6\" style={card}>\n                <div class=\"card-body\">\n                    <h5 class=\"card-title text-center\">Completed Goals</h5>\n                    {completed.map( goal => (\n                        <h6 style={Goals} key={goal._id}>\n                            <i class=\"fa fa-check\" aria-hidden=\"true\" style={checkBox}/>\n                            {goal.title}\n                            <p onClick={e => {undoGoal(goal._id)}} style={undoBtn}>\n                                undo\n                            </p>\n                        </h6>\n                     ))}\n                </div>\n            </div>\n            <div class=\"card col-12 col-lg-3 col-md-6\" style={card}>\n                <div class=\"card-body\">\n                    <h5 class=\"card-title text-center\">Habits Goals</h5>\n                    <h6 style={Goals}>  <i class=\"far fa-square\"></i>   Eat</h6>\n                    <h6 style={Goals}>  <i class=\"far fa-square\"></i>   Sleep</h6>\n                    <h6 style={Goals}>  <i class=\"far fa-square\"></i>   Study</h6>\n                    <h6 style={Goals}>  <i class=\"far fa-square\"></i>   Excercise</h6>\n                    <h6 style={Goals}>  <i class=\"far fa-square\"></i>   Repeat</h6>\n                    <h6 style={Goals}>  <i class=\"far fa-square\"></i>   Eat</h6>\n                    <h6 style={Goals}>  <i class=\"far fa-square\"></i>   Sleep</h6>\n                    <h6 style={Goals}>  <i class=\"far fa-square\"></i>   Study</h6>\n                    <h6 style={Goals}>  <i class=\"far fa-square\"></i>   Excercise</h6>\n                    <h6 style={Goals}> <i class=\"fas fa-check-square\"></i>   Repeat</h6>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Goals;"]},"metadata":{},"sourceType":"module"}