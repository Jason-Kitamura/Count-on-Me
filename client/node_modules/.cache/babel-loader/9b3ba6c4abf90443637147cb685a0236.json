{"ast":null,"code":"import _regeneratorRuntime from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect,useContext}from\"react\";//import ReactDOM from \"react-dom\";\n//import $ from 'jquery';\n//import SearchBox from './SearchBox';\n//import SearchResult from './SearchResult';\nvar axios=require('axios');function SettingsPage(props){//Checking user login \nvar userEmail=JSON.parse(localStorage.getItem('userEmail'));if(!userEmail){console.log('logged out!');}else{console.log('logged in!',userEmail);}var _useState=useState([]),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),firstName=_useState4[0],setUserFirstName=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),lastName=_useState6[0],setUserLastName=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var followers=useRef(null);var following=useRef(null);useEffect(function(){getUser();},[]);function getUser(){return _getUser.apply(this,arguments);}function _getUser(){_getUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var user,firstName,lastName,password;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"calling axios.get for email: \",userEmail);_context.next=3;return axios.get(\"/api/userData/\".concat(userEmail));case 3:user=_context.sent;if(!user.error){_context.next=7;break;}console.log(\"error getting from db\",user.error);return _context.abrupt(\"return\");case 7:setUser(user);console.log(\"Retrieved user data:\",user);firstName=user.data.firstName;firstName=firstName.charAt(0).toUpperCase()+firstName.slice(1);setUserFirstName(firstName);lastName=user.data.lastName;lastName=lastName.charAt(0).toUpperCase()+lastName.slice(1);setUserLastName(lastName);console.log(\"User first:\",firstName,\"user last\",lastName);password=user.data.password;setPassword(password);case 18:case\"end\":return _context.stop();}}},_callee);}));return _getUser.apply(this,arguments);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex flex-column h-100\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-md-8 col-sm-6 col-xs-12 personal-info\"},/*#__PURE__*/React.createElement(\"div\",{class:\"alert alert-info alert-dismissable\",style:{display:\"none\"}},/*#__PURE__*/React.createElement(\"a\",{class:\"panel-close close\",\"data-dismiss\":\"alert\"},\"\\xD7\"),\"This is an \",/*#__PURE__*/React.createElement(\"strong\",null,\"alert\"),\" to show important messages to the user.\"),/*#__PURE__*/React.createElement(\"h3\",null,\"Personal info\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{class:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"label\",{class:\"col-lg-3 control-label\"},\"First name:\"),/*#__PURE__*/React.createElement(\"div\",{class:\"col-lg-8\"},/*#__PURE__*/React.createElement(\"input\",{class:\"form-control\",value:firstName,type:\"text\"})))),/*#__PURE__*/React.createElement(\"div\",{class:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"label\",{class:\"col-lg-3 control-label\"},\"Last name:\"),/*#__PURE__*/React.createElement(\"div\",{class:\"col-lg-8\"},/*#__PURE__*/React.createElement(\"input\",{class:\"form-control\",value:lastName,type:\"text\"})))),/*#__PURE__*/React.createElement(\"div\",{class:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"label\",{class:\"col-lg-3 control-label\"},\"Email:\"),/*#__PURE__*/React.createElement(\"div\",{class:\"col-lg-8\"},/*#__PURE__*/React.createElement(\"input\",{class:\"form-control\",value:userEmail,type:\"text\"})))),/*#__PURE__*/React.createElement(\"div\",{class:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"label\",{class:\"col-lg-3 control-label\"},\"Username:\"),/*#__PURE__*/React.createElement(\"div\",{class:\"col-lg-8\"},/*#__PURE__*/React.createElement(\"input\",{class:\"form-control\",value:\"janeuser\",type:\"text\"})))),/*#__PURE__*/React.createElement(\"div\",{class:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"label\",{class:\"col-lg-3 control-label\"},\"Password:\"),/*#__PURE__*/React.createElement(\"div\",{class:\"col-lg-8\"},/*#__PURE__*/React.createElement(\"input\",{class:\"form-control\",value:password,type:\"password\"})))),/*#__PURE__*/React.createElement(\"div\",{class:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"label\",{class:\"col-lg-3 control-label\"},\"Confirm password:\"),/*#__PURE__*/React.createElement(\"div\",{class:\"col-lg-8\"},/*#__PURE__*/React.createElement(\"input\",{class:\"form-control\",value:password,type:\"password\"})))),/*#__PURE__*/React.createElement(\"div\",{class:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"label\",{class:\"col-lg-3 control-label\"}),/*#__PURE__*/React.createElement(\"div\",{class:\"col-lg-8\"},/*#__PURE__*/React.createElement(\"input\",{class:\"btn btn-primary\",value:\"Save Changes\",type:\"button\"}),/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"input\",{class:\"btn btn-default\",value:\"Cancel\",type:\"reset\"}))))))));}export default SettingsPage;","map":{"version":3,"sources":["/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/src/components/Settings/SettingsPage.js"],"names":["React","useState","useRef","useEffect","useContext","axios","require","SettingsPage","props","userEmail","JSON","parse","localStorage","getItem","console","log","user","setUser","firstName","setUserFirstName","lastName","setUserLastName","password","setPassword","followers","following","getUser","get","error","data","charAt","toUpperCase","slice","display"],"mappings":"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","sourcesContent":["import React,{useState, useRef, useEffect, useContext} from \"react\";\n//import ReactDOM from \"react-dom\";\n//import $ from 'jquery';\n//import SearchBox from './SearchBox';\n//import SearchResult from './SearchResult';\n\nconst axios = require('axios');\n\nfunction SettingsPage( props ){\n\n  //Checking user login \n  const userEmail = JSON.parse(localStorage.getItem('userEmail'));\n  if ( !userEmail ){\n      console.log( 'logged out!' );\n  } else {\n      console.log( 'logged in!', userEmail );\n  }\n\n\n   const [ user, setUser ]= useState([]);\n   const [ firstName, setUserFirstName ] = useState([]);\n   const [ lastName, setUserLastName ] = useState([]);\n   const [ password, setPassword ] = useState([]);\n   const followers = useRef(null);\n   const following = useRef(null);\n\n\n  useEffect( function(){\n      \n       getUser();\n   }, [] );\n\n  async function getUser(){\n   console.log(`calling axios.get for email: `, userEmail)\n   const user = await axios.get( `/api/userData/${userEmail}`);\n\n   if( user.error ){\n       console.log(`error getting from db`, user.error)\n       return;\n   }\n   \n   setUser( user );\n   console.log( `Retrieved user data:`, user);\n\n   let firstName = user.data.firstName;\n   firstName = firstName.charAt(0).toUpperCase() + firstName.slice(1)\n   setUserFirstName( firstName )\n\n   let lastName = user.data.lastName;\n   lastName = lastName.charAt(0).toUpperCase() + lastName.slice(1)\n   setUserLastName( lastName )\n\n   console.log(`User first:`, firstName , `user last`, lastName)\n\n   let password = user.data.password;\n   setPassword( password )\n  }\n\n\n\n    return (\n        <>\n        <div class=\"d-flex flex-column h-100\">\n          <div class=\"row\">\n            <div class=\"col-md-8 col-sm-6 col-xs-12 personal-info\">\n              <div class=\"alert alert-info alert-dismissable\" style={{display:\"none\"}}>\n                <a class=\"panel-close close\" data-dismiss=\"alert\">×</a>\n                This is an <strong>alert</strong> to show important messages to the user.\n              </div>\n            <h3>Personal info</h3>\n            <br></br>\n            <br></br>\n              <div class=\"form-group\">\n                <div class=\"row\">\n                <label class=\"col-lg-3 control-label\" >First name:</label>\n                <div class=\"col-lg-8\">\n                  <input class=\"form-control\" value={firstName} type=\"text\" />\n                </div>\n                </div>\n              </div>    \n              <div class=\"form-group\">\n              <div class=\"row\">\n                <label class=\"col-lg-3 control-label\">Last name:</label>\n                <div class=\"col-lg-8\">\n                  <input class=\"form-control\" value={lastName} type=\"text\" />\n                </div>\n                </div>\n              </div>\n              <div class=\"form-group\">\n              <div class=\"row\">\n                <label class=\"col-lg-3 control-label\">Email:</label>\n                <div class=\"col-lg-8\">\n                  <input class=\"form-control\" value={userEmail} type=\"text\" />\n                </div>\n                </div>\n              </div>\n              <div class=\"form-group\">\n              <div class=\"row\">\n                <label class=\"col-lg-3 control-label\">Username:</label>\n                <div class=\"col-lg-8\">\n                  <input class=\"form-control\" value=\"janeuser\" type=\"text\" />\n                </div>\n                </div>\n              </div>\n              <div class=\"form-group\">\n              <div class=\"row\">\n                <label class=\"col-lg-3 control-label\">Password:</label>\n                <div class=\"col-lg-8\">\n                  <input class=\"form-control\" value={password} type=\"password\" />\n                </div>\n                </div>\n              </div>\n              <div class=\"form-group\">\n              <div class=\"row\">\n                <label class=\"col-lg-3 control-label\">Confirm password:</label>\n                <div class=\"col-lg-8\">\n                  <input class=\"form-control\" value={password} type=\"password\" />\n                </div>\n                </div>\n              </div>\n              <div class=\"form-group\">\n              <div class=\"row\">\n                <label class=\"col-lg-3 control-label\"></label>\n                <div class=\"col-lg-8\">\n                  <input class=\"btn btn-primary\" value=\"Save Changes\" type=\"button\" />\n                  <span></span>\n                  <input class=\"btn btn-default\" value=\"Cancel\" type=\"reset\" />\n                </div>\n                </div>\n              </div>\n            </div>\n            </div>\n            </div>\n        </>\n    )\n}\n\nexport default SettingsPage;"]},"metadata":{},"sourceType":"module"}