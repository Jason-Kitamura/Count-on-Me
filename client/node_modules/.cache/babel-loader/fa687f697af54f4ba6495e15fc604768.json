{"ast":null,"code":"import _regeneratorRuntime from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect,useContext}from\"react\";import CoverPhoto from'./CoverPhoto';import UserOptions from'./UserOptions';import TodoLists from'./TodoLists';import Followers from'./Followers';import Following from'./Following';import GoalModal from'../Home/GoalModal';import\"./style.css\";var axios=require('axios');function HomePage(){var home={width:'100%',height:'50px',textAlign:'center',backgroundColor:'rgb(230, 126, 34)',color:'white',fontFamily:\"'Noto Sans', sans-serif\",borderStyle:'groove',paddingTop:'5px'};var liveData={flex:1,flexDirection:'row',padding:'10px',margin:'0px'};var columns={padding:'0',margin:'4px'};var selectOption={display:'block',marginLeft:'auto',marginRight:'auto'};var scroll={scrollBehavior:'smooth'};//Checking user login \nvar userEmail=JSON.parse(localStorage.getItem('userEmail'));if(!userEmail){console.log('logged out!');}else{console.log('logged in!',userEmail);}var _useState=useState([]),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),firstName=_useState4[0],setUserFirstName=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),lastName=_useState6[0],setUserLastName=_useState6[1];var followers=useRef(null);var following=useRef(null);useEffect(function(){getUser();},[]);function getUser(){return _getUser.apply(this,arguments);}function _getUser(){_getUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var user,firstName,lastName;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"calling axios.get for email: \",userEmail);_context.next=3;return axios.get(\"/api/userData/\".concat(userEmail));case 3:user=_context.sent;if(!user.error){_context.next=7;break;}console.log(\"error getting from db\",user.error);return _context.abrupt(\"return\");case 7:setUser(user);console.log(\"Retrieved user data:\",user);firstName=user.data.firstName;firstName=firstName.charAt(0).toUpperCase()+firstName.slice(1);setUserFirstName(firstName);lastName=user.data.lastName;lastName=lastName.charAt(0).toUpperCase()+lastName.slice(1);setUserLastName(lastName);console.log(\"User first:\",firstName,\"user last\",lastName);case 16:case\"end\":return _context.stop();}}},_callee);}));return _getUser.apply(this,arguments);}function executeScrollToFollowers(){console.log(\"Calling scroll function\",followers);window.scrollTo(0,followers.current.offsetTop);}function executeScrollToFollowing(){console.log(\"Calling scroll function\",following);window.scrollTo(0,following.current.offsetTop);}var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),show=_useState8[0],setShow=_useState8[1];function addGoal(){return _addGoal.apply(this,arguments);}function _addGoal(){_addGoal=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log('[Add New GOAL button pressed]',show);setShow(true);case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _addGoal.apply(this,arguments);}function closeGoal(){return _closeGoal.apply(this,arguments);}function _closeGoal(){_closeGoal=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setShow(false);case 1:case\"end\":return _context3.stop();}}},_callee3);}));return _closeGoal.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",{style:scroll},/*#__PURE__*/React.createElement(\"div\",{id:\"header\"},/*#__PURE__*/React.createElement(\"h3\",{style:home},firstName,\" \",lastName)),/*#__PURE__*/React.createElement(\"div\",{class:\"row\",style:liveData},/*#__PURE__*/React.createElement(\"div\",{class:\"col-12 col-md-8\",style:columns},/*#__PURE__*/React.createElement(CoverPhoto,null),\"     \",/*#__PURE__*/React.createElement(\"button\",{class:\"btn btn-light\",onClick:addGoal,style:selectOption},/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-plus\"}),\"   Add New Goal\")),/*#__PURE__*/React.createElement(\"div\",{class:\"col-12 col-md-3\",style:columns},/*#__PURE__*/React.createElement(UserOptions,{executeScrollToFollowers:executeScrollToFollowers,executeScrollToFollowing:executeScrollToFollowing}))),/*#__PURE__*/React.createElement(\"div\",{class:\"row\",style:liveData},/*#__PURE__*/React.createElement(TodoLists,null)),/*#__PURE__*/React.createElement(\"div\",{class:\"row\",ref:followers,style:liveData},/*#__PURE__*/React.createElement(Followers,null)),/*#__PURE__*/React.createElement(\"div\",{class:\"row\",ref:following,style:liveData},/*#__PURE__*/React.createElement(Following,null)),/*#__PURE__*/React.createElement(GoalModal,{show:show,closeGoal:closeGoal}));}export default HomePage;","map":{"version":3,"sources":["/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/src/components/Dashboard/DashboardPage.js"],"names":["React","useState","useRef","useEffect","useContext","CoverPhoto","UserOptions","TodoLists","Followers","Following","GoalModal","axios","require","HomePage","home","width","height","textAlign","backgroundColor","color","fontFamily","borderStyle","paddingTop","liveData","flex","flexDirection","padding","margin","columns","selectOption","display","marginLeft","marginRight","scroll","scrollBehavior","userEmail","JSON","parse","localStorage","getItem","console","log","user","setUser","firstName","setUserFirstName","lastName","setUserLastName","followers","following","getUser","get","error","data","charAt","toUpperCase","slice","executeScrollToFollowers","window","scrollTo","current","offsetTop","executeScrollToFollowing","show","setShow","addGoal","closeGoal"],"mappings":"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","sourcesContent":["import React,{useState, useRef, useEffect, useContext} from \"react\";\nimport CoverPhoto from './CoverPhoto';\nimport UserOptions from './UserOptions';\nimport TodoLists from './TodoLists';\nimport Followers from './Followers';\nimport Following from './Following';\nimport GoalModal from '../Home/GoalModal';\n\nimport \"./style.css\";\n\nconst axios = require('axios');\n\nfunction HomePage(){\n   const home = {\n       width:'100%',\n       height:'50px',\n       textAlign:'center',\n       backgroundColor:'rgb(230, 126, 34)',\n       color:'white',\n       fontFamily: \"'Noto Sans', sans-serif\",\n       borderStyle:'groove', \n       paddingTop: '5px'\n   }\n   const liveData = {\n       flex:1,\n       flexDirection:'row',\n       padding:'10px',\n       margin:'0px'\n       \n   }\n   const columns = {\n       padding:'0',\n       margin:'4px'\n   }\n   const selectOption = {\n    display:'block',\n    marginLeft:'auto',\n    marginRight:'auto'\n}\nconst scroll = {\n    scrollBehavior: 'smooth'\n   }\n\n   //Checking user login \n   const userEmail = JSON.parse(localStorage.getItem('userEmail'));\n   if ( !userEmail ){\n       console.log( 'logged out!' );\n   } else {\n       console.log( 'logged in!', userEmail );\n   }\n\n\n    const [ user, setUser ]= useState([]);\n    const [ firstName, setUserFirstName ] = useState([]);\n    const [ lastName, setUserLastName ] = useState([]);\n    const followers = useRef(null);\n    const following = useRef(null);\n\n\n   useEffect( function(){\n        getUser();\n    }, [] );\n\n   async function getUser(){\n    console.log(`calling axios.get for email: `, userEmail)\n    const user = await axios.get( `/api/userData/${userEmail}`);\n\n    if( user.error ){\n        console.log(`error getting from db`, user.error)\n        return;\n    }\n    \n    setUser( user );\n    console.log( `Retrieved user data:`, user);\n    let firstName = user.data.firstName;\n    firstName = firstName.charAt(0).toUpperCase() + firstName.slice(1)\n    setUserFirstName( firstName )\n    let lastName = user.data.lastName;\n    lastName = lastName.charAt(0).toUpperCase() + lastName.slice(1)\n    setUserLastName( lastName )\n    console.log(`User first:`, firstName , `user last`, lastName)\n   }\n\n   function executeScrollToFollowers(){\n    console.log(`Calling scroll function`, followers)\n    \n    window.scrollTo(0, followers.current.offsetTop)  \n   }\n\n   function executeScrollToFollowing (){\n    console.log(`Calling scroll function`, following)\n    \n    window.scrollTo(0, following.current.offsetTop)  \n   }\n   const [show,setShow] = useState(false);\n   async function addGoal(){\n    console.log('[Add New GOAL button pressed]',show)\n    setShow(true);\n    }\n\n    async function closeGoal(){\n        setShow(false);\n    }\n\n\n\n    return (\n        <div style={scroll}>\n        <div id=\"header\">\n            <h3  style={home}>{firstName} {lastName}</h3>\n        </div>\n        <div class='row' style={liveData}>\n            <div class='col-12 col-md-8' style={columns}>\n                <CoverPhoto />     <button class='btn btn-light' onClick={addGoal} style={selectOption}><i class=\"fas fa-plus\"></i>   Add New Goal</button>\n            </div>\n            <div class='col-12 col-md-3'style={columns} >\n            <UserOptions executeScrollToFollowers={executeScrollToFollowers} executeScrollToFollowing={executeScrollToFollowing}/>\n            </div>\n        </div>\n        <div class='row' style={liveData}>\n            <TodoLists />\n        </div>\n        <div class='row' ref={followers} style={liveData}>\n            <Followers />\n        </div>\n        <div class='row' ref={following} style={liveData}>\n            <Following />\n        </div>\n        <GoalModal show={show} closeGoal={closeGoal}/>\n    </div>\n    );\n\n   \n}\n\nexport default HomePage;"]},"metadata":{},"sourceType":"module"}