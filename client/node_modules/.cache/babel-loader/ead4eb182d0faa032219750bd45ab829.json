{"ast":null,"code":"import _regeneratorRuntime from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';var axios=require('axios');function Goals(){var card={width:'100%',margin:'10px'};var Goals={borderStyle:'groove',marginBotton:'5px',padding:'3px'};var checkBox={float:'left',cursor:'pointer'};var completeBox={float:'right',fontSize:'small',cursor:'pointer'};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),goals=_useState2[0],setGoals=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),completed=_useState4[0],setCompleted=_useState4[1];function getGoalList(_x){return _getGoalList.apply(this,arguments);}function _getGoalList(){_getGoalList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(localEmail){var obj,userGoals,goalsArray,incompletedGoals,completedGoals;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:obj={email:localEmail};//get info from server\n_context.next=3;return axios.post('/api/getUserGoals',obj);case 3:userGoals=_context.sent;goalsArray=userGoals.data.goals;incompletedGoals=goalsArray.filter(function(goal){return goal.completed===false;});console.log('incompleted goals',incompletedGoals);setGoals(incompletedGoals);completedGoals=goalsArray.filter(function(goal){return goal.completed===true;});console.log('completed goals',completedGoals);setCompleted(completedGoals);case 11:case\"end\":return _context.stop();}}},_callee);}));return _getGoalList.apply(this,arguments);}useEffect(function(){var localEmail=JSON.parse(localStorage.getItem('userEmail'));if(!localEmail){console.log('logged out!');}else{console.log('logged in!',localEmail);getGoalList(localEmail);}},[]);function completeGoal(_x2){return _completeGoal.apply(this,arguments);}function _completeGoal(){_completeGoal=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var obj,updateGoalComplete,localEmail1;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:obj={id:id};//update in in database\n_context2.next=3;return axios.post('/api/completeGoal',obj);case 3:updateGoalComplete=_context2.sent;console.log('Update goal complete',updateGoalComplete);//re render page\nlocalEmail1=JSON.parse(localStorage.getItem('userEmail'));getGoalList(localEmail1);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _completeGoal.apply(this,arguments);}function undoGoal(_x3){return _undoGoal.apply(this,arguments);}function _undoGoal(){_undoGoal=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var obj,undoGoalComplete,localEmail2;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:obj={id:id};//update in in database\n_context3.next=3;return axios.post('http://localhost:5000/api/undoGoal',obj);case 3:undoGoalComplete=_context3.sent;console.log('Undo goal complete',undoGoalComplete);//re render page\nlocalEmail2=JSON.parse(localStorage.getItem('userEmail'));getGoalList(localEmail2);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return _undoGoal.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{class:\"card\",style:card},/*#__PURE__*/React.createElement(\"div\",{class:\"card-body\"},/*#__PURE__*/React.createElement(\"h5\",{class:\"card-title text-center\"},\"Today's Goals\"),goals.map(function(goal){return/*#__PURE__*/React.createElement(\"h6\",{style:Goals,key:goal.id},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",checked:false,onClick:function onClick(e){completeGoal(goal._id);},style:checkBox}),goal.title);}),completed.map(function(goal){return/*#__PURE__*/React.createElement(\"h6\",{style:Goals,key:goal.id},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-check\",\"aria-hidden\":\"true\",style:checkBox}),/*#__PURE__*/React.createElement(\"p\",{onClick:function onClick(e){undoGoal(goal._id);},style:completeBox},\"undo\"),goal.title);}))));}export default Goals;","map":{"version":3,"sources":["/Users/koustubmanchiraju/Documents/BootCamp/goalTracker/client/src/components/Home/Goals.js"],"names":["React","useEffect","useState","axios","require","Goals","card","width","margin","borderStyle","marginBotton","padding","checkBox","float","cursor","completeBox","fontSize","goals","setGoals","completed","setCompleted","getGoalList","localEmail","obj","email","post","userGoals","goalsArray","data","incompletedGoals","filter","goal","console","log","completedGoals","JSON","parse","localStorage","getItem","completeGoal","id","updateGoalComplete","localEmail1","undoGoal","undoGoalComplete","localEmail2","map","e","_id","title"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nconst axios = require('axios');\n\n\nfunction Goals() {\n    const card={\n        width:'100%',\n        margin:'10px'\n    }\n    const  Goals = {\n        borderStyle:'groove',\n        marginBotton:'5px',\n        padding:'3px'\n    }\n    const checkBox = {\n        float: 'left',\n        cursor : 'pointer',\n\n    }\n    const completeBox = {\n        float: 'right',\n        fontSize : 'small',\n        cursor : 'pointer',\n    }\n  \n    const [goals, setGoals] = useState([]);\n    const [completed, setCompleted] = useState([]);\n\n\n    async function getGoalList( localEmail){\n        const obj = {\n            email : localEmail \n        }\n        //get info from server\n        const userGoals = await axios.post( '/api/getUserGoals', obj );\n        const goalsArray = userGoals.data.goals\n\n        const incompletedGoals = goalsArray.filter( goal => {\n            return goal.completed === false;\n        })\n        console.log('incompleted goals', incompletedGoals);\n        setGoals( incompletedGoals );\n\n        const completedGoals = goalsArray.filter( goal => {\n            return goal.completed === true;\n        })\n        console.log('completed goals', completedGoals);\n        setCompleted( completedGoals );\n    }\n\n  useEffect( ()=>{\n        const localEmail = JSON.parse(localStorage.getItem('userEmail'));\n    \n        if ( !localEmail ){\n            console.log( 'logged out!' );\n        } else {\n            console.log( 'logged in!', localEmail );\n\n         getGoalList( localEmail );\n        }\n    },[])\n    async function completeGoal( id){\n        const obj = {\n            id : id\n        }\n        //update in in database\n        const updateGoalComplete = await axios.post( '/api/completeGoal', obj);\n        console.log('Update goal complete', updateGoalComplete );\n        //re render page\n        const localEmail1 = JSON.parse(localStorage.getItem('userEmail'));\n        getGoalList( localEmail1 );\n    }\n    async function undoGoal( id ){\n        const obj = {\n            id : id\n        }\n        //update in in database\n        const undoGoalComplete = await axios.post( 'http://localhost:5000/api/undoGoal', obj);\n        console.log('Undo goal complete', undoGoalComplete );\n        //re render page\n        const localEmail2 = JSON.parse(localStorage.getItem('userEmail'));\n        getGoalList( localEmail2 );\n    }\n\n    return (\n       <div>\n        <div class=\"card\" style={card}>\n            <div class=\"card-body\">\n                <h5 class=\"card-title text-center\">Today's Goals</h5>         \n                {goals.map( goal => (\n                    <h6 style={Goals} key={goal.id}>\n                        <input type=\"checkbox\" checked={false} onClick={e => {completeGoal( goal._id)}} style={checkBox}/>\n                        {goal.title}\n                    </h6>\n                 ))}\n                 {completed.map( goal => (\n                    <h6 style={Goals} key={goal.id}>\n                        <i class=\"fa fa-check\" aria-hidden=\"true\" style={checkBox}/>\n                        <p onClick={e => {undoGoal( goal._id)}} style={completeBox}>\n                            undo\n                        </p>\n                        {goal.title}\n                    </h6>\n                 ))}\n            </div>\n        </div>\n       \n        </div>\n       \n        \n    );\n}\n\nexport default Goals;"]},"metadata":{},"sourceType":"module"}